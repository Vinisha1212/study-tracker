{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Study Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-purple-50 min-h-screen p-6 flex flex-col items-center">

  <div class="flex justify-between items-center w-full mb-6">
    
    <!-- Left corner: Shinchan + Logout -->
    <div class="flex flex-col items-start">
        <img src="{% static 'images/shinchan.jpg' %}" alt="Shinchan" class="w-20 h-20 mb-2">
        <a href="{% url 'login' %}"
           class="bg-purple-600 hover:bg-purple-700 text-white font-bold py-2 px-4 rounded-lg shadow-md transition transform hover:scale-105">
            Logout 🚪
        </a>
    </div>

    <!-- Center: Title and Quote -->
    <div class="text-center">
        <h1 class="text-3xl font-extrabold text-purple-700">
            🚀 Let's Do It, {{ request.user.username }}! 
        </h1>
        <p class="text-purple-500 mt-1 text-lg">{{ quote }}</p>
    </div>

    <!-- Right corner: optional empty space or another element -->
    <div class="w-20"></div>
</div>

    {% if messages %}
    <div class="mb-4 w-full max-w-lg">
        {% for message in messages %}
        <div class="p-3 rounded-lg text-center font-medium 
            {% if message.tags == 'success' %}bg-green-200 text-green-800{% elif message.tags == 'warning' %}bg-yellow-200 text-yellow-800{% else %}bg-blue-200 text-blue-800{% endif %}">
            {{ message }}
        </div>
        {% endfor %}
    </div>
    {% endif %}

    <!-- Buttons -->
    <div class="flex gap-4 mb-6 flex-wrap justify-center">
        <a href="{% url 'start_study' %}" class="bg-green-400 hover:bg-green-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition transform hover:scale-105">Start Study 📚</a>
        <a href="{% url 'end_study' %}" class="bg-red-400 hover:bg-red-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition transform hover:scale-105">End Study ⏰</a>
        <a href="{% url 'start_break' %}" class="bg-blue-400 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition transform hover:scale-105">Start Break ☕</a>
        <a href="{% url 'end_break' %}" class="bg-yellow-400 hover:bg-yellow-500 text-white font-bold py-2 px-4 rounded-lg shadow-md transition transform hover:scale-105">End Break ✨</a>
    </div>
    <!-- Highest Productive Time -->
<div class="bg-yellow-100 px-4 py-3 rounded-xl shadow text-center mb-4 border border-yellow-300 w-fit mx-auto">
  <h2 class="text-lg font-bold text-yellow-800 mb-1">🏆Peak Power Hour</h2>
  {% if highest_study_time %}
    <p class="text-yellow-700 font-medium">
      {{ highest_study_time }} 🔥
    </p>
  {% else %}
    <p class="text-yellow-500 text-sm">No record yet 🎯</p>
  {% endif %}
</div>



    <!-- Current Session Message -->
    <div class="text-lg text-purple-700 mb-4 text-center">
        {% if latest_session and not latest_session.end_time %}
            🕒 You are in an active session started at {{ latest_session.start_time|date:"H:i" }}. Keep going! 💪
        {% else %}
            🎯 Ready to hit your study goals! Start a new session!
        {% endif %}
    </div>

    <a href="{% url 'session_list' %}" class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 px-6 rounded-lg shadow-md transition transform hover:scale-105 mb-4">
        View My Past Sessions 📅
    </a>

  
    <div class="mb-6">
    <img src="{% static session_gif %}" alt="session_gif" class="w-48 h-48 mx-auto">
</div>

</body>
</html>
